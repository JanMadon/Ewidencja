import{e as d,k as H,o as c,f as T,w as f,b as t,a as V,t as r,i as F,h as x,c as u,g as y,d as b,l as M,m as S,F as U,r as C,O as D}from"./app-ce342ae0.js";import{_ as N}from"./AuthenticatedLayout-5e82fb2a.js";import{_ as B}from"./ChangeMonth-4829d30e.js";import"./ApplicationLogo-eac321ad.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SecondaryButton-a32aaaa8.js";const I=t("h1",{class:"font-semibold text-2xl text-gray-800 leading-tight"},"User dashboard",-1),j={class:"flex items-center justify-between p-1 bm-3"},L=t("p",null,"...",-1),P={class:"overflow-x-auto"},$={class:"max-w-xl mx-auto mt-10 p-6 bg-white rounded-md shadow-md overflow-x-auto"},E={class:"text-2xl font-semibold mb-6"},Y={class:"text-xl font-semibold mb-6"},q={class:"min-w-full w-[900]"},z={class:"bg-gray-400 text-center border"},A={colspan:"2",class:"text-l font-medium px-6 py-4 text-center border-2"},G={key:0,class:"text-sm text-red-600"},J=t("td",{class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900"}," Hours worked ",-1),K={class:"text-center"},Q={class:"bg-gray-200"},R=t("td",{class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900"}," Double hours ",-1),W={class:"text-center"},X=t("td",{class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900"}," Standard working time ",-1),Z={class:"w-full text-center"},tt=["value"],et=["value","innerHTML"],st={key:0,value:"custom"},at={class:"bg-gray-200"},ot=t("td",{class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900"},[x(" Salary "),t("p",{class:"text-xs"},"valid from")],-1),lt={class:"text-center"},nt={class:"text-xs"},rt={class:"border"},dt=t("td",{class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900"}," Net payment ",-1),ct={class:"text-center font-bold"},_t={__name:"DashboardUser",props:{user:Object,data:Object},setup(l){const v=d([144,152,160,168,176,184]),s=d(),m=d(""),w=d(!0),h=d(0);d(!1),d(0),d("");const i=l;H(()=>[i.data.workTime,s.value,m.value],g);function g(){if(i.data.workTime){const[n,a,e]=i.data.workTime.split(":"),_=parseInt(n)+parseInt(a)/60+parseInt(e)/3600+i.data.doubleHours;if(s.value==="custom"){const p=_/m.value;h.value=(i.data.salary*p).toFixed(2)}else{const p=_/s.value;h.value=(i.data.salary*p).toFixed(2)}}}function k(n){const a=n.slice(0,4),e=n.slice(5,7);let o=[];switch(a){case"2023":o=[168,168,168,168,160,160,184,168,168,184,152,160];break;case"2024":o=[168,168,168,168,160,160,184,168,168,184,152,160];break;case"2025":o=[168,160,168,168,160,160,184,160,176,184,144,168];break;case"2026":o=[160,160,176,168,160,168,184,160,176,176,160,168];break;default:o=[];break}o.length?s.value=o[e-1]:s.value="no data"}const O=n=>{k(n),D.post(route("dashboardUser.period"),{date:n})};return(n,a)=>(c(),T(N,null,{header:f(()=>[I]),default:f(()=>[t("nav",j,[t("p",null,[V(B,{onPeriod:O})]),L]),t("div",P,[t("div",$,[t("h2",E,"Employee: "+r(l.user.name),1),t("h4",Y,"Id: "+r(l.user.id),1),t("form",{onSubmit:a[2]||(a[2]=F(e=>n.submitForm(),["prevent"])),class:"flex flex-col"},[t("table",q,[t("thead",z,[t("tr",null,[t("th",A,[x(" Monthly summary "),l.data.errors?(c(),u("p",G,"User has "+r(l.data.errors)+" error(s) in the selected period",1)):y("",!0)])])]),t("tbody",null,[t("tr",null,[J,t("td",K,r(l.data.workTime),1)]),t("tr",Q,[R,t("td",W,r(l.data.doubleHours),1)]),t("tr",null,[X,t("td",Z,[s.value==="custom"?b((c(),u("input",{key:0,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e),placeholder:"set value",class:"w-[30%] text-center"},null,512)),[[M,m.value]]):b((c(),u("select",{key:1,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e),id:"mySelector",disabled:"",class:"border-none cursor-pointer"},[(c(!0),u(U,null,C(v.value,(e,o)=>(c(),u("option",{key:o,value:e},r(e),9,tt))),128)),t("option",{value:s.value,innerHTML:s.value},null,8,et),w.value?(c(),u("option",st,"set")):y("",!0)],512)),[[S,s.value]])])]),t("tr",at,[ot,t("td",lt,[x(r(l.data.salary)+" ",1),t("p",nt,r(l.data.salaryVaildFrom),1)])]),t("tr",rt,[dt,t("td",ct,r(h.value),1)])])])],32)])])]),_:1}))}};export{_t as default};
